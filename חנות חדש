<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galactic Gadgets | ×—× ×•×ª ×”×¢×ª×™×“</title>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --accent: #f43f5e;
            --bg: #0f172a;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg);
            background-image: radial-gradient(circle at top right, #1e1b4b, #0f172a);
            color: var(--text);
            margin: 0; padding: 0; min-height: 100vh;
        }

        header {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(15px);
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: sticky; top: 0; z-index: 100;
        }

        .container { 
            max-width: 1200px; margin: auto; 
            display: grid; grid-template-columns: 1fr 380px; 
            gap: 30px; padding: 20px; 
        }

        @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }

        /* ×›×¨×˜×™×¡×™ ××•×¦×¨×™× */
        .catalog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 20px; }
        .product-card {
            background: var(--card-bg); border-radius: 24px; padding: 25px; text-align: center;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .product-card:hover { transform: translateY(-10px); border-color: var(--primary); box-shadow: 0 15px 30px rgba(0,0,0,0.4); }

        /* ×¢×’×œ×ª ×§× ×™×•×ª */
        .cart-section {
            background: rgba(255,255,255,0.03); border-radius: 24px; padding: 25px; border: 1px solid rgba(255,255,255,0.1);
            height: fit-content; position: sticky; top: 120px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        /* ×¢×™×¦×•×‘ ×›×¤×ª×•×¨×™× */
        .btn-main {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white; border: none; padding: 15px; border-radius: 14px; width: 100%; 
            cursor: pointer; font-weight: bold; font-size: 1.1rem; transition: 0.3s;
        }
        .btn-main:hover { filter: brightness(1.2); transform: scale(1.02); }

        .pay-btn { 
            flex: 1; padding: 12px; border-radius: 12px; border: 1px solid #444; 
            background: rgba(255,255,255,0.05); color: white; cursor: pointer; 
        }
        .pay-btn.active { background: var(--primary); border-color: var(--primary); box-shadow: 0 0 15px var(--primary); }

        /* ×§×œ×˜ */
        input { 
            background: rgba(255,255,255,0.1); border: 1px solid #444; color: white; 
            padding: 12px; border-radius: 10px; margin: 8px 0; width: 100%; box-sizing: border-box; 
        }

        .payment-box { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; margin-top: 15px; display: none; }

        .hidden { display: none; }
        .admin-footer { margin-top: 100px; padding: 50px; text-align: center; opacity: 0.4; }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0; letter-spacing: 2px;">ğŸš€ GALACTIC GADGETS</h1>
    <p style="margin:5px 0 0 0; opacity: 0.7;">×—× ×•×ª ×”×˜×›× ×•×œ×•×’×™×” ×”××ª×§×“××ª ×‘×™×©×¨××œ</p>
</header>

<div class="container">
    <div class="main-content">
        <h2 style="margin-bottom: 30px;">ğŸ›°ï¸ ×§×˜×œ×•×’ ×”××•×¦×¨×™×</h2>
        <div id="catalog" class="catalog-grid">
            <p id="empty-msg" style="grid-column: 1/-1; text-align: center; padding: 100px; opacity: 0.5; font-size: 1.2rem;">
                ×”×—× ×•×ª ×¨×™×§×”... ×”×× ×”×œ ×˜×¨× ×”×•×¡×™×£ ×¤×¨×™×˜×™×.
            </p>
        </div>
    </div>

    <div class="cart-section">
        <h3>ğŸ›’ ×¢×’×œ×ª ×§× ×™×•×ª</h3>
        <div id="cart-items" style="max-height: 250px; overflow-y: auto; margin: 20px 0;"></div>
        <div style="font-size: 1.8rem; font-weight: bold; border-top: 1px solid #333; padding: 15px 0;">
            ×¡×”"×›: â‚ª<span id="total-amount">0</span>
        </div>
        
        <h4>×©×™×˜×ª ×ª×©×œ×•×:</h4>
        <div style="display:flex; gap: 10px; margin-bottom: 20px;">
            <button id="btn-cc" class="pay-btn" onclick="selectMethod('××©×¨××™')">ğŸ’³ ××©×¨××™</button>
            <button id="btn-pb" class="pay-btn" onclick="selectMethod('×¤×™×‘×•×§×¡')">ğŸ“± PayBox</button>
        </div>

        <div id="cc-fields" class="payment-box">
            <input type="text" id="cc-num" placeholder="××¡×¤×¨ ×›×¨×˜×™×¡ (16 ×¡×¤×¨×•×ª)">
            <input type="text" id="cc-name" placeholder="×©× ××œ× ×¢×œ ×”×›×¨×˜×™×¡">
            <div style="display:flex; gap: 10px;">
                <input type="text" placeholder="×ª×•×§×£" style="flex:1">
                <input type="text" placeholder="CVV" style="flex:1">
            </div>
        </div>

        <button class="btn-main" onclick="validateAndSend()">ğŸš€ ×©×œ×— ×”×–×× ×” ×œ×•×•××˜×¡××¤</button>
    </div>
</div>

<div class="admin-footer">
    <div id="admin-login">
        <button onclick="openAdmin()" style="background:none; border:none; color:#444; cursor:pointer;">ğŸ”’ ×›× ×™×¡×ª ×× ×”×œ ×œ× ×™×”×•×œ ××œ××™</button>
    </div>
    <div id="admin-panel" class="hidden" style="background: rgba(255,255,255,0.05); padding: 30px; border-radius: 20px; border: 1px solid var(--primary);">
        <h3>ğŸ› ï¸ ×”×•×¡×¤×ª ××•×¦×¨ ×—×“×©</h3>
        <input type="text" id="pName" placeholder="×©× ×”××•×¦×¨" style="max-width: 250px;">
        <input type="number" id="pPrice" placeholder="××—×™×¨" style="max-width: 150px;">
        <input type="number" id="pStock" placeholder="×›××•×ª ×‘××œ××™" style="max-width: 150px;">
        <br>
        <button class="btn-main" style="width: auto; padding: 12px 40px;" onclick="addItem()">×”×•×¡×£ ×œ×—× ×•×ª</button>
    </div>
</div>

<script>
    let products = [];
    let cart = [];
    let selectedMethod = '';

    function openAdmin() {
        if (prompt("×”×›× ×¡ ×¡×™×¡××ª ×× ×”×œ:") === "Malachico987") {
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('admin-panel').classList.remove('hidden');
        } else { alert("×¡×™×¡××” ×©×’×•×™×”!"); }
    }

    function addItem() {
        const name = document.getElementById('pName').value;
        const price = document.getElementById('pPrice').value;
        const stock = document.getElementById('pStock').value;
        if (name && price && stock) {
            products.push({ id: Date.now(), name, price: Number(price), stock: Number(stock) });
            render();
            document.getElementById('pName').value = '';
            document.getElementById('pPrice').value = '';
            document.getElementById('pStock').value = '';
        }
    }

    function selectMethod(m) {
        selectedMethod = m;
        document.getElementById('btn-cc').classList.toggle('active', m === '××©×¨××™');
        document.getElementById('btn-pb').classList.toggle('active', m === '×¤×™×‘×•×§×¡');
        document.getElementById('cc-fields').style.display = (m === '××©×¨××™') ? 'block' : 'none';
    }

    function render() {
        const catalog = document.getElementById('catalog');
        if (products.length > 0) document.getElementById('empty-msg').style.display = 'none';
        
        catalog.innerHTML = products.map(p => `
            <div class="product-card">
                <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ›¸</div>
                <h3>${p.name}</h3>
                <p style="color: var(--secondary); font-size: 1.5rem; font-weight: bold;">â‚ª${p.price}</p>
                <p style="font-size: 0.9rem; opacity: 0.6;">××œ××™: ${p.stock}</p>
                <button class="btn-main" ${p.stock <= 0 ? 'disabled' : ''} onclick="addToCart(${p.id})">
                    ${p.stock > 0 ? '×”×•×¡×£ ×œ×¢×’×œ×”' : '××–×œ ×”××œ××™'}
                </button>
            </div>
        `).join('');

        const cartDiv = document.getElementById('cart-items');
        let total = 0;
        cartDiv.innerHTML = cart.map((i, index) => {
            total += i.price;
            return `<div style="display:flex; justify-content:space-between; margin-bottom:10px; background:rgba(255,255,255,0.05); padding:10px; border-radius:10px;">
                <span>${i.name}</span>
                <span>â‚ª${i.price} <button onclick="removeFromCart(${index})" style="background:none; border:none; color:var(--accent); cursor:pointer; margin-right:10px;">âœ•</button></span>
            </div>`;
        }).join('');
        document.getElementById('total-amount').innerText = total;
    }

    function addToCart(id) {
        const p = products.find(prod => prod.id === id);
        if (p.stock > 0) {
            p.stock--;
            cart.push({...p});
            render();
        }
    }

    function removeFromCart(index) {
        const item = cart[index];
        const p = products.find(prod => prod.id === item.id);
        p.stock++;
        cart.splice(index, 1);
        render();
    }

    function validateAndSend() {
        if (cart.length === 0) return alert("×”×¢×’×œ×” ×¨×™×§×”!");
        if (!selectedMethod) return alert("×× × ×‘×—×¨ ×××¦×¢×™ ×ª×©×œ×•×");

        let paymentInfo = "";
        if (selectedMethod === '××©×¨××™') {
            const num = document.getElementById('cc-num').value;
            const name = document.getElementById('cc-name').value;
            if (!num || !name) return alert("× × ×œ××œ× ×¤×¨×˜×™ ××©×¨××™ ××œ××™×");
            paymentInfo = `(×”×œ×§×•×— ×”×–×™×Ÿ ××©×¨××™ ×¢×œ ×©× ${name}, ××¡×ª×™×™× ×‘-${num.slice(-4)})`;
        } else {
            paymentInfo = "(×”×œ×§×•×— ××¢×•× ×™×™×Ÿ ×œ×©×œ× ×‘×¤×™×‘×•×§×¡)";
        }

        const phone = "972555686078";
        let text = `âš¡ *×”×–×× ×” ×—×“×©×” ×-Galactic Gadgets!* âš¡%0A%0A`;
        cart.forEach((i, idx) => text += `${idx+1}. *${i.name}* - â‚ª${i.price}%0A`);
        text += `%0AğŸ’° *×¡×”"×› ×œ×ª×©×œ×•×:* â‚ª${document.getElementById('total-amount').innerText}`;
        text += `%0AğŸ’³ *×ª×©×œ×•×:* ${selectedMethod} ${paymentInfo}`;
        
        window.open(`https://wa.me/${phone}?text=${text}`, '_blank');
        alert("××¢×•×œ×”! ×× ×—× ×• ×¢×•×‘×¨×™× ×œ×•×•××˜×¡××¤ ×œ××™×©×•×¨ ×”×”×–×× ×”.");
    }
</script>
</body>
</html>
